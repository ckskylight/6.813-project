<!-- Sliding menu from http://www.jqueryscript.net/menu/Minimalist-jQuery-Sliding-Sidebar-Navigation.html -->

<!-- Things not implemented:
    -search
    -filtering
-->

<html>
<head>
    <title>TableMaestro</title>
    <link rel="stylesheet" href="css/slider.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/index.css">
</head>
<body>

<script src="http://cdnjs.cloudflare.com/ajax/libs/bonsai/0.4/bonsai.min.js"></script>
<script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

<div id="leftMenuPull" data-sidebar-button><img id="arrowImgRight" src="img/arrow.png" width="30px" height="30px"/></div>
<div id="rightMenuPull" data-sidebar-button-right><img id="arrowImgLeft" src="img/arrow.png" width="30px" height="30px"/></div>

    <aside data-sidebar-left>
        <div class="form-horizontal">
            <div class = "padding form-group">

            <div style="margin-bottom:20px;margin-top:0px">
                <center> <h2> Add Party </h2> </center>
            </div>
             <form action="#">
                <center>
              <div class="input-group">
                 <input class="mine btn btn-lg" id="partyName" type="text" placeholder="Name" required>
              </div>
             <div class="input-group">
                 <input class="mine btn btn-lg" id="partyTime" type="text" placeholder="Time" required>
              </div>
                <div class="input-group">
                 <input class="mine btn btn-lg" id="partyDate" type="text" placeholder="Date" required>
              </div>
            <div class="input-group">
                 <input class="mine btn btn-lg" id="partySize" type="text" placeholder="Party Size" required>
              </div>

            <hr>

            <h4 style="font-weight:200;padding:10px">Optional</h4>

             <div class="input-group">
                 <input class="btn btn-lg mine" id="partyPhone" type="text" placeholder="Phone">
              </div>

            <div class="input-group">
                 <input class="btn btn-lg mine" id="partyEmail" type="text" placeholder="Email">
              </div>
            <hr>

            <div class="input-group">
            <button class="confirm-btn btn btn-lg" style="color:#fff;border-radius:4px;margin:10px;width:150px;"name="addPartyConfirm" id="addPartyConfirm">Confirm</button>
            </div>

            <h4 style="font-weight:200"> Estimated Wait: 15 min </h4>
             </form>
        <a href="#" data-sidebar-button>Hide Sidebar</a>
        </center>
        </div>

    </aside>
         </div>

    <aside data-sidebar-right>
        <div class="padding">
            <div id="queueContent">
                <center>
                <h1> Queue </h1>
                </center>
                <hr>

                <!-- old filtering stuff -->
                <!--
                <div class="inputFilter">
                <h4 style="font-weight:200"> Filter | Party Size <input class="form-control numberInput" id="partySizeFilter" type="text" placeholder=""></h4>
                </div>

                <div class="inputFilter">
                <h4 style="font-weight:200"> Search | Name <input class="form-control numberInput" id="partySizeFilter" type="text" placeholder=""></h4>
                </div> -->

                <!-- search box -->
                <div class="form-group">
                <input type="text" class="form-control" placeholder="Party Size or Name">
                </div>
                <hr>

                <!--
                <center>
                <button class="btn btn-primary" name="assignTable" id="assignTable">Assign Table</button>
                <button class="btn btn-primary" name="deleteRes" id="deleteRes1">Delete</button><hr>
                </div></div>
                </center>
                -->

                <h4 style="font-weight:200;padding:10px">Today</h4>

                <div class="inQueue bs-callout bs-callout-info">
                    <table style="width:100%;max-width:100%;font-weight:200;">
                        <tr><td class="col-md-4 queue-column">11 AM</td><td class="col-md-4 queue-column">Jacqui</td><td class="col-md-4 queue-column">5</td></tr>
                    </table>
                </div>

            </div>
            <hr style="margin-top:10px">
            </div>
        <a href="#" data-sidebar-button-right>Hide Sidebar</a>
        </div>
    </aside>

    <!-- Button trigger modal -->
    <!-- Modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content" style="height:400px">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <center> <h2 class="modal-title" id="myModalLabel">Table Details</h2> </center>
          </div>
          <div class="modal-body">
            <div class="first-column">
              <img src="chef.jpg" style="width:100%">
            </div>
            <div class="second-column">
              <center>

                <table class = "table">
                  <tr class = "row">
                    <td class="light-font">Server</td>
                    <td  class="light-font"id="server">John</td>
                  </tr>

                  <tr class = "row">
                    <td class="light-font">Customer Name</td>
                    <td  class="light-font" id="name">Jack</td>
                  </tr>

                  <tr class = "row">
                    <td class="light-font">Time Seated</td>
                    <td  class="light-font" id="time-seated">30</td>
                  </tr>

                  <tr class = "row">
                    <td class="light-font">Estimated Time Remaining</td>
                    <td class="light-font" id="est-time-remaining">10</td>
                  </tr>

                  <tr class = "row" style="border-bottom: 1px solid #ddd">
                    <td class="light-font">Party Size</td>
                    <td  class="light-font" id="party-size">5</td>
                  </tr>

                </table>

              </center>
            </div>
          </div>
        </div>
      </div>
    </div>


    <div id="tableLayout"></div>
    <script>
        var modalbutton = $('modalbutton');
        var bonsai = bonsai.run(document.getElementById('tableLayout'), {
        url: 'js/bonsai.js',
        width: 900,
        height: 600
        });

        bonsai.on('message', function(data) {
          if (data.command === 'modal') {
            openModal(data);
          }
        });

        var messageFunc = function() {
          bonsai.sendMessage({
            bonsai: "tree"
            });
        }

        var showAvailableFunc = function() {
          bonsai.sendMessage({
            command: "show available"
            });
        }

        var regularViewFunc = function() {
          bonsai.sendMessage({
            command: "remove shading"
            });
        }

        var assignTableFunc = function() {
          bonsai.sendMessage({
            command: "assign",
            details: {
              name: "person",
              partySize: 3
              }
            });
        }

        var openModal = function(data) {
          console.log('modal');
          console.log(data);
          var customerName = $("#name");
          var timeSeated = $("#time-seated");
          var timeRemaining = $("#est-time-remaining");
          var partySize = $("#party-size");
          partySize.text(data.details.partySize);
          timeSeated.text("0");
          timeRemaining.text('40');
          customerName.text(data.details.name);
          jQuery.noConflict();
          $('#myModal').modal('show');
        }

    </script>

    <div id="logo-container">
      <img src="./img/tablemaestrologo.png" width="500pt" height="auto"></img>
    </div>

    <!--<a href="#" data-sidebar-button>Show Sidebar</a>-->
    <div class="overlay" data-sidebar-overlay></div>
    <div class="overlay" data-sidebar-overlay-right></div>

    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script src="js/queue.js"></script>
    <script src="js/slider.js"></script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-36251023-1']);
        _gaq.push(['_setDomainName', 'jqueryscript.net']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

</body>
</html>