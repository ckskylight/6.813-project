<!-- Sliding menu from http://www.jqueryscript.net/menu/Minimalist-jQuery-Sliding-Sidebar-Navigation.html -->

<!-- Things not implemented:
    -search
    -filtering
-->

<html>
<head>
    <title>TableMaestro</title>
    <!-- http://cdnjs.cloudflare.com/ajax/libs/bonsai/0.4/bonsai.min.js -->
<script src="js/bonsai.min.js"></script>
<!-- https://code.jquery.com/jquery-1.10.2.min.js -->
<script src="js/jquery-1.10.2.min.js"></script>
<script src="js/jquery-ui.js"></script>
<script src="js/bootstrap.min.js"></script>
<!-- Latest compiled and minified CSS -->
<!-- https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="css/slider.css">
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/index.css">




</head>
<body>



<div id="leftMenuPull" data-sidebar-button>
  <!--<img id="arrowImgRight" src="img/arrow.png" width="30px" height="30px"/>-->
  <span class="glyphicon glyphicon-plus" id="right-arrow"></span>
</div>

<div id="rightMenuPull" data-sidebar-button-right>
  <!--<img id="arrowImgLeft" src="img/arrow.png" width="30px" height="30px"/>-->
  <span class="glyphicon glyphicon-tasks" id="left-arrow"></span>
</div>

    <aside data-sidebar-left>
        <div class="form-horizontal">
            <div class = "padding form-group" style="margin-right: 0 !important;">

            <div style="margin-bottom:20px;margin-top:0px;margin:10px">
                <center> <h2> Add Party </h2> </center>
            </div>
             <form action="#">
                <center>
              <div class="input-group">
                 <input class="mine btn btn-lg input-button" style="width:200px" id="partyName" type="text" placeholder="Name" autofocus required>
              </div>
             <div class="input-group">
                 <input class="mine btn btn-lg input-button" style="width:200px" id="partyTime" type="text" placeholder="Time"  onclick="{this.type='time'}{this.placeholder=''}{this.style.cssText='width:200px;margin-left:45px'}" required>
              </div>
                <div class="input-group">
                 <input class="mine btn btn-lg input-button" style="width:200px" id="partyDate" type="text" onclick="{this.type='date'}{this.placeholder=''}{this.style.cssText='width:200px;margin-left:50px'}" placeholder="Date" required>
              </div>
            <div class="input-group">
                 <input class="mine btn btn-lg input-button" style="width:200px" id="partySize" type="text" placeholder="Party Size" min="1" onclick="{this.type='number'}{this.min='1'}{this.placeholder=''}"required>
              </div>
            <hr>

            <h4 style="font-weight:200;padding:10px">Optional</h4>

             <div class="input-group">
                 <input class="btn btn-lg mine" id="partyPhone" type="tel" placeholder="Phone">
              </div>
            <hr>

            <div class="input-group">
            <button class="nav-button-reset btn btn-lg" style="border-radius:4px;margin:10px;width:150px;margin-top:20px"name="addPartyConfirm" id="addPartyConfirm">Confirm</button>
            </div>

            <h4 style="font-weight:200"> Estimated Wait: 15 min </h4>
             </form>
        </center>
        </div>

    </aside>
         </div>

    <aside data-sidebar-right>
        <div class="padding">
            <center>
            <h1> Queue </h1>
            </center>

        <hr>

        <h4 style="font-weight:200;padding:10px;padding-left:0px">Today</h4>
        <div id="queueContent">

            <div class="inQueue bs-callout bs-callout-info resNum" id="res1" style="border: 1px solid rgba(160,64,255,1.0);border-left: 5px solid rgba(160,64,255,1.0);background-color:#fff;padding-left: 0px;padding-right: 0px;margin-top: 0px;margin-bottom: 0px;padding: none;padding: 0px; ">
              <center style="padding:15px 10px ; height:78px;">
              <div style="height:100%; line-height: 46px; position: absolute;">
                <div style="width: 65%; font-size: 40px; float: left;text-align: center; line-height: 46px;">11</div>
                <div style="margin-left: 44px; margin-top: 4px;line-height: 23px;   ">30</div>
                <div style="margin-left: 48px; margin-top: -6px;line-height: 23px;   ">am</div>
              </div>
              <div style="margin-left: 60px; line-height: 46px; font-size: 40px; width: 38%; position: absolute; ">6 <span class="glyphicon glyphicon-user" aria-hidden="true" style="font-size: 30px;"></span></div>

              <div style="height:100%; line-height: 46px; position: absolute;">
                <div style="margin-left: 150px; margin-top: 4px;line-height: 23px; width: 50%;  text-align: right; word-wrap:break-word;">CK Ong</div>
                <div style="margin-left: 150px; margin-top: -6px;line-height: 23px; width: 50%;  text-align: right;   ">5204255814</div>
              </div>


              <!-- <table style="width:288px; height:37px; font-weight:200;">
                <tbody>
                  <tr>
                    <td rowspan="2" >
                      <div style="height:100%; width:100%; position:relative;">11</div>
                    </td>
                    <td rowspan="2" class="queue-column" width="1%" style="text-align:left;font-size:30px">11</td>
                    <td class="queue-column"  style="text-align:left;word-wrap:break-word;"> 30 </td>
                      <td rowspan="2" class="queue-column" style="text-align: center;font-size:30px;width: 103px;">6 <span class="glyphicon glyphicon-user" aria-hidden="true"></span></td>
                    <td class="queue-column" style="font-weight:400;text-align:right">CK Ong</td>
                  </tr>
                  <tr>
                    <td class="queue-column" style="text-align:left;word-wrap:break-word;"> am</td>
                    <td class="queue-column" style="text-align:right">5204255814</td>
                  </tr>
                </tbody>
              </table> -->
            </center>
            </div>
        </div>
        <hr>


            </div>

            </div>
        </div>
    </aside>

    <!-- Button trigger modal -->
    <!-- Modal -->
    <div class="modal fade my-modal" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content my-modal" style="height:400px;border-radius:10px;border:5px solid rgba(160,64,255,1.0)">
          <div class="modal-header" style="border:none">
            <button type="button" class="close" style="color:rgba(160,64,255,1.0);margin-top: -8px;font-size:50px;margin-right: 8px;shadow: none;text-shadow: none;" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <center> <h2 id="myModalLabel" style="margin-top:-10px;color:#A040FF"></h2> </center>
          </div>
          <div class="modal-body" style="padding:0px">

            <center> <h2 id="myModalLabel" style="margin-top:30px;color:#A040FF">Table Details</h2> </center>
            <center>

              <div class="row" style="padding-bottom:30px;padding-top:15px">
                <button class="btn btn-lg server-label-button" style="border-style:solid;border-color:#FF504A;background-color: FF504A;"/> Customer Name
                <button class="btn btn-lg server-data-button" style="border-style:solid;border-color:#FF504A;color: FF504A;"/> CK Ong
              </div>

              <div class="row" style="padding-bottom:30px;padding-top:15px">
                <button class="btn btn-lg server-label-button" style="border-style:solid;border-color: #E84384;background-color: #E84384;"/> Party Size
                <button class="btn btn-lg server-data-button" style="border-style:solid;border-color: #E84384;/* color: FF44EC; */color: ##E84384;color: #E84384;"/> 6
              </div>

              <div class="row" style="padding-bottom:30px;padding-top:15px">
                <button class="btn btn-lg server-label-button" style="border-style:solid;border-color: #A040FF"> Time Seated
                <button class="btn btn-lg server-data-button" style="border-style:solid;border-color:#A040FF"/> 3 PM
              </div>

            </center>

            </div>
        </div>
      </div>
    </div>
  </div>

  <!--
  [<div class="second-column" style="display:table-cell;display:table-cell;margin-top: -10;margin-right: 10px;">
  <table style="width:100%;max-width:100%;font-weight:200;margin-bottom:15px;"><tbody><tr><td class="col-md-4 queue-column bs-callout modal-static-info" style="font-weight:400;max-width:12px;">Server</td><div id="res1"><td class="col-md-4 queue-column inQueue bs-callout bs-callout-info modal-dynamic-info">John</td></div></tr></tbody></table>
  <table style="width:100%;max-width:100%;font-weight:200;margin-bottom:15px;"><tbody><tr><td class="col-md-4 queue-column bs-callout modal-static-info" style="font-weight:400;max-width:12px;">Customer</td><div id="res1"><td class="col-md-4 queue-column inQueue bs-callout bs-callout-info modal-dynamic-info">CK</td></div></tr></tbody></table>
  <table style="width:100%;max-width:100%;font-weight:200;margin-bottom:15px;"><tbody><tr><td class="col-md-4 queue-column bs-callout modal-static-info" style="font-weight:400;max-width:12px;">Seated At</td><div id="res1"><td class="col-md-4 queue-column inQueue bs-callout bs-callout-info modal-dynamic-info">3 PM</td></div></tr></tbody></table>
  <table style="width:100%;max-width:100%;font-weight:200;margin-bottom:15px;"><tbody><tr><td class="col-md-4 queue-column bs-callout modal-static-info" style="font-weight:400;max-width:12px;">Party Size</td><div id="res1"><td class="col-md-4 queue-column inQueue bs-callout bs-callout-info modal-dynamic-info">6</td></div></tr></tbody></table>]
  -->



    <div id="tableLayout"></div>
    <script>
        var modalbutton = $('modalbutton');
        var bonsai = bonsai.run(document.getElementById('tableLayout'), {
        url: 'js/bonsai.js',
        width: 1100,
        height: 550
        });

        bonsai.on('message', function(data) {
          if (data.command === 'modal') {
            openModal(data);
          }
        });

        var messageFunc = function() {
          bonsai.sendMessage({
            bonsai: "tree"
            });
        }

        var showAvailableFunc = function() {
          bonsai.sendMessage({
            command: "show available"
            });
        }

        var regularViewFunc = function() {
          bonsai.sendMessage({
            command: "remove shading"
            });
        }

        var assignTableFunc = function() {
          bonsai.sendMessage({
            command: "assign",
            details: {
              name: "person",
              partySize: 3
              }
            });
        }

        var addTableFunc = function() {
          $("#normalBtns").addClass('hidden');
          $("#addingTableBtns").removeClass('hidden');
          bonsai.sendMessage({
            command: "add table",
            details: [6]
            });
        }
        var cancelAddTableFunc = function() {
          $("#normalBtns").removeClass('hidden');
          $("#addingTableBtns").addClass('hidden');
          bonsai.sendMessage({
            command: "cancel add table"
            });
        }
        var saveTableFunc = function() {
          $("#normalBtns").removeClass('hidden');
          $("#addingTableBtns").addClass('hidden');
          bonsai.sendMessage({
            command: "save table"
            });
        }

        var deleteTableFunc = function() {
          $("#normalBtns").addClass('hidden');
          $("#deletingTableBtns").removeClass('hidden');
          bonsai.sendMessage({
            command: "delete table"
            });
        }

        var cancelDeleteTableFunc = function() {
          $("#normalBtns").removeClass('hidden');
          $("#deletingTableBtns").addClass('hidden');
          bonsai.sendMessage({
            command: "cancel delete table"
            });
        }

        var saveDeleteTableFunc = function() {
          $("#normalBtns").removeClass('hidden');
          $("#deletingTableBtns").addClass('hidden');
          bonsai.sendMessage({
            command: "save delete table"
            });
        }

        var openModal = function(data) {
          console.log('modal');
          console.log(data);
          var customerName = $("#name");
          var timeSeated = $("#time-seated");
          var timeRemaining = $("#est-time-remaining");
          var partySize = $("#party-size");
          partySize.text(data.details.partySize);
          timeSeated.text("0");
          timeRemaining.text('40');
          customerName.text(data.details.name);
          jQuery.noConflict();
          $('#myModal').modal('show');
        }

    </script>

    <div id="logo-container" style="margin-top:30px;">
      <img src="./img/tablemaestrologo.png" width="500pt" height="auto"></img>
    </div>

    <center>
    <div class="row" style="padding-top:30px" id="normalBtns">
        <button onclick="addTableFunc()" class="btn btn-lg nav-button-add" style="width:15%;border-style:solid;border-color:#FF504A"> Add Table </button>
        <button onclick="deleteTableFunc()" class="btn btn-lg nav-button-delete" style="width:15%;border-style:solid;border-color:#E84384"> Remove Table </button>
        <button class="btn btn-lg nav-button-reset" style="width:15%;border-style:solid;border-color:#A040FF"> Reset Configuration </button>
    </div>
    <div class="row hidden" style="padding-top:30px" id="addingTableBtns">
        <button onclick="saveTableFunc()" class="btn btn-lg nav-button-add" style="width:15%;border-style:solid;border-color:#FF504A"> Confirm </button>
        <button onclick="cancelAddTableFunc()" class="btn btn-lg nav-button-delete" style="width:15%;border-style:solid;border-color:#E84384"> Cancel </button>
    </div>
    <div class="row hidden" style="padding-top:30px" id="deletingTableBtns">
        <button onclick="saveDeleteTableFunc()" class="btn btn-lg nav-button-add" style="width:15%;border-style:solid;border-color:#FF504A"> Confirm </button>
        <button onclick="cancelDeleteTableFunc()" class="btn btn-lg nav-button-delete" style="width:15%;border-style:solid;border-color:#E84384"> Cancel </button>
    </div>
    <div class="row hidden" style="padding-top:30px" id="assigningTableBtns">
        <button class="btn btn-lg nav-button-add" style="width:15%;border-style:solid;border-color:#FF504A"> DISPLAY INFO </button>
        <button class="btn btn-lg nav-button-delete" style="width:15%;border-style:solid;border-color:#E84384"> CANCEL </button>
    </div>
  </center>

    <!--
    <center>
      <div id="navbar">
          Add Table | Remove Table | Reset Configuration
      </div>
    </center>
    -->

    <!--<a href="#" data-sidebar-button>Show Sidebar</a>-->
    <div class="overlay" data-sidebar-overlay></div>
    <div class="overlay" data-sidebar-overlay-right></div>

    <!-- https://code.jquery.com/jquery-2.1.3.min.js -->

    <script src="js/jquery-2.1.3.min.js"></script>
    <script src="js/queue.js"></script>
    <script src="js/slider.js"></script>
    <script src="js/main.js"></script>
    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-36251023-1']);
        _gaq.push(['_setDomainName', 'jqueryscript.net']);
        _gaq.push(['_trackPageview']);

        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
    </script>

    <script text="text/javascript">
      $('#res1').mouseover(function(e) {
          $('#res1').addClass('mousedOver');
      });
      $('#res1').mouseout(function(e) {
          $('#res1').removeClass('mousedOver');
      });
    </script>



</body>
</html>